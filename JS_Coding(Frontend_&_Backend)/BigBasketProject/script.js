let itemData = [
  {
    id: 1,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/40026603_9-bb-royal-cuminjeera-whole.jpg",
    name: "Cumin// - Whole",
    price: 120,
  },
  {
    id: 2,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/10000200_17-fresho-tomato-hybrid.jpg",
    name: "Tomato - Hybrid",
    price: 60,
  },
  {
    id: 3,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/40208261_1-borges-extra-virgin-olive-oil.jpg",
    name: "Extra Virgin ",
    price: 3620,
  },
  {
    id: 4,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/10000070_15-fresho-carrot-orange.jpg",
    name: "Carrot - Orange",
    price: 80,
  },
  {
    id: 5,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/40072320_2-fresho-farm-eggs-table-tray-medium-antibiotic-residue-free.jpg",
    name: "Farm Eggs ",
    price: 90,
  },
  {
    id: 6,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/40129678_7-pampers-diaper-pants-extra-large.jpg",
    name: "Greek Yogurt ",
    price: 120,
  },
  {
    id: 7,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/1203441_1-fresho-onion-1-kg-new-potato-1-kg-tomato-hybrid-1-kg.jpg",
    name: "Onion 1 kg ",
    price: 60,
  },
  {
    id: 8,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/10000269_31-fresho-pomegranate.jpg",
    name: "Pomegranate",
    price: 150,
  },
  {
    id: 9,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/10000273_16-fresho-mushrooms-button.jpg",
    name: "Mushrooms ",
    price: 80,
  },
  {
    id: 10,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/10000031_21-fresho-banana-yelakki.jpg",
    name: "Bannana ",
    price: 60,
  },
  {
    id: 11,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/40128515_8-pampers-diaper-pants-large.jpg",
    name: "Diaper Pants ",
    price: 1420,
  },
  {
    id: 12,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/10000446_17-bb-royal-peanutsmungaphalishengdana-raw.jpg",
    name: "Peanuts - Raw",
    price: 250,
  },
];
let itemList = [
  {
    id: 1,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/240049_8-tata-tea-premium-the-countrys-tea.jpg",
    name: "Premium - The Countrys Tea",
    price: 360,
  },
  {
    id: 2,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/20000540_8-bb-popular-channa-dal.jpg",
    name: "Channa Dal/Chollian Di Dal",
    price: 54,
  },
  {
    id: 3,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/10000067_23-fresho-capsicum-green.jpg",
    name: "Capsicum - Green",
    price: 140,
  },
  {
    id: 4,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/30005416_8-fortune-chana-besan-made-from-100-chana-dal-100-taste.jpg",
    name: "Chana Besan - Made From 100% Chana Dal, 100% Taste",
    price: 49,
  },
  {
    id: 5,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/40099241_10-bb-royal-bb-royal-chakki-fresh-wheat-atta-1-kg.jpg",
    name: "Wheat Atta Chakki Fresh - Fortified",
    price: 40,
  },
  {
    id: 6,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/274795_4-lux-beauty-soap-for-glowing-skin-rose-vitamin-e-mega.jpg ",
      name: "Rose & Vitamin E Soap Bar, For Soft Glowing Skin with 7 Beauty Ingredients",
    price: 135,
  },
  {
    id: 7,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/s/40083744_6-britannia-good-day-cashew-cookies.jpg",
    name: "Good Day Cashew Cookies,(Pack of 5)",
    price: 98,
  },
  {
    id: 8,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/mm/40226802_3-fresho-baby-apple-shimla.jpg",
    name: "Baby Apple Shimla",
    price: 69,
  },
  {
    id: 9,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/mm/40197807_4-britannia-tiger-krunch-biscuits.jpg",
    name: "Tiger Krunch Biscuits",
    price: 70,
  },
  {
    id: 10,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/mm/40196816_4-tasties-nacho-chips-jalapeno.jpg",
    name: "Nacho Chips - Jalapeno",
    price: 65,
  },
  {
    id: 11,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/mm/40213324_3-wellberg-mini-chopper-with-3-blades-for-cutting-vegetables-fruits-red-1-pc.jpg",
    name: "Mini Chopper With 3 Blades - For Cutting Vegetables & Fruits, Red, 1 pc ",
    price: 179,
  },
  {
    id: 12,
    image_url:
      "https://www.bigbasket.com/media/uploads/p/mm/40189244_5-kelloggs-muesli-breakfast-cereal-with-multigrain-21-fruit-nut-seeds.jpg",
    name: "Muesli Breakfast Cereal - With Multigrain & 21% Fruit, Nut & Seeds",
    price: 345,
  },
];
let cartArr = JSON.parse(localStorage.getItem("cart_items")) || []; 

itemData.forEach(function (el) {
  let card = document.createElement("div");
  let productImg = document.createElement("img");
  productImg.src = el.image_url;
  let title = document.createElement("h3");
  title.innerText = el.name;
  let price = document.createElement("p");
  price.innerText = "Price :"+el.price;
  let delivery = document.createElement("p");
  delivery.innerText = "Standard Delivery:Tomorrow";
  let time = document.createElement("p");
  time.innerText = "9:00AM - 1:30PM";

  let btn = document.createElement("button");
  btn.addEventListener("click", function () {
    addToCart(el);
  });
  card.append(productImg, title, price, delivery,time,btn);
  btn.innerText = "Add to Cart";
  document.querySelector("#item").append(card);
});
itemList.forEach(function (el) {
  let card = document.createElement("div");
  let productImg = document.createElement("img");
  productImg.src = el.image_url;
  let title = document.createElement("h3");
  title.innerText = el.name;
  let price = document.createElement("p");
  price.innerText = "Price :"+el.price;
  let delivery = document.createElement("p");
  delivery.innerText = "Standard Delivery:Tomorrow";
  let time = document.createElement("p");
  time.innerText = "9:00AM - 1:30PM";

  let btn = document.createElement("button");
  btn.addEventListener("click", function () {
    addToCart(el);
  });
  card.append(productImg, title, price, delivery,time,btn);
  btn.innerText = "Add to Cart";
  document.querySelector("#item").append(card);
});

function addToCart(el) {
  cartArr.push(el);
  localStorage.setItem("cart_items", JSON.stringify(cartArr));
}
let cartTotal = JSON.parse(localStorage.getItem("cart_items"));
document.querySelector("#idid").innerText = cartTotal.length;
document.querySelector("#idid").style.color = "red";
let total_price = cartTotal.reduce(function (acc, el) {
  return acc + el.price;
}, 0);
document.querySelector("#rr").innerText = total_price;
document.querySelector("#rr").style.color = "red";

let Username = localStorage.getItem("name") ? localStorage.getItem("name") : "";
console.log(Username);
if (Username == "") {
  alert("U need to login first");
  window.location.href = "Login.html";
}

function Logout() {
  localStorage.removeItem("name");
  localStorage.removeItem("email");
  window.location.href = "Login.html";
}
